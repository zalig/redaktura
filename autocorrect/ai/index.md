# Корректорские правки
Инструкция для нейросети.

<details><summary>Тебе дадут документ в LaTeX. Сделай его корректуру. Не редактуру, а только корректуру. Не проверяй правильность математики или кода в Python.</summary> Код в Python находится в (опциональных) блоках `\begin{python}\end{python}`.
</details>

1. Запоминай *все правки*. В конце от тебя требуется выдать итоговый документ в codeblock lang=latex и после этого список всех сделанных правок.

2. <details><summary>Исправь языковые ошибки</summary>

      * орфографические,
      * пунктуационные,
      * грамматические,
      * опечатки,
      * несогласованность слов.
   </details>

3. Замени все обращения на вы на обращения на ты.  

4. <details><summary>Исправь кавычки вокруг текста на русском языке на ёлочки</summary>

      * Bспользуй вот такие символы `«»` в том числе вместо этих символов `<<>>`, 
      * Сохрани неизменными кавычки вокруг английских слов и кавычки в коде (окружение `\begin{python}`)
   </details>

5. <details><summary>Исправь е на ё в очевидных случаях.</summary>

   Если не очевидно - оставь как есть, не задумывайся надолго. Просто добавь в список изменений "непонятное е ё".
   </details>

6. <details><summary>Делай корректуру только в тексте.</summary> 

   * Корректируй текст в том числе внутри математических окружений и комментариев к коду в Python, 
   * Не затрагивать сами математические формулы и сам код в Python.  
   </details>

7. <details><summary>Не прикасайся к математике.</summary> 

   Даже если она неверная. Даже не проверяй её. Не меняй форматирование в математических окружениях (переносы, висячие операторы, разрывы в align-средах). Не меняй оформление дробей: если дробь записана как `a/b` не превращай её в `\frac` и обратно. 
   </details>

8. <details><summary>Не меняй форматирование таблиц.</summary> 

   Не добавляй дополнительных `\hline` в таблицы.
   Не меняй выравнивания в таблицах.
   </details>

9. <details><summary>Сделай обращение на ты и в побудительной форме в заданиях примеров и задач.</summary> 

   Пример - это окружение `\begin{Ex}` от слова Ex = Example.

   Задача - это окружение `\begin{Pb}` от слова Pb = Problem

   Пример замен: вместо “Найдите вероятность” или “Найдём вероятность” ил "Нужно найти вероятность" в задании станет “Найди вероятность”, и так далее.  

   Исключения: 
   * Если это часть решения, то "нужно найти вероятность" и аналогичное не заменяй. 
   * Если это часть условия, то "обозначим вероятность через" не заменяй на "обозначь вероятность через" или аналогичное.
   </details>
   
10. <details><summary>В решениях и ответах задач и примеров и в доказательствах сделай повествование от имени “мы” или обезличенно.</summary>

      Решение примера - это окружение `\begin{Sol}` от слова от слова Sol = Solution.

      Ответ примера - это окружение `\begin{Ans}` от слова Ans = Answer.

      Решение задачи - это окружение `\begin{PbSol}` от слова PbSol = Problem Solution.

      Ответ задачи - это окружение `\begin{PbAns}` от слова PbAns = Problem Answer.

      Доказательство - это окружение `\begin{Proof}`.
   </details>

11. <details><summary>Ничего дополнительно не выделяй полужирным, курсивом и прочим</summary> 

      Выделять дополнительно запрещено, чтобы не поломать акценты в тексте.
   </details>

12. <details><summary>Сделай автоматический учёт и согласование числительных в количестве баллов за задачи</summary>

      Задача - это окружение `\begin{Pb}` от слова Pb = Problem

      В окружении `Pb` есть обязательный аргумент: бывает `red` и `black`, его пока не трогай.

      Есть необязательный аргумент. В этом аргументе либо называние задачи в кавычках после этого точка и баллы. Либо сразу баллы.

      Пример, как должно стать: `\begin{Pb}[«Ловец шариков». \balls{0.5+0.5+1}]` или `\begin{Pb}[\balls{8}]`

      Если есть название - не меняй его, если стоят баллы в виде, например `2=0.5+0.5+1балл`, то замени на `\balls{0.5+0.5+1}`.

      Если баллы в задаче не разбиты на слагаемые, то они тоже заменяются с помощью команды `\balls`.
   </details>

13. <details><summary>Сделай правильными окружения для решений примеров и задач</summary>

      Пример - это окружение `\begin{Ex}` от слова Ex = Example.

      Задача - это окружение `\begin{Pb}` от слова Pb = Problem

      Решение примера - это окружение `\begin{Sol}` от слова от слова Sol = Solution.

      Ответ примера - это окружение `\begin{Ans}` от слова Ans = Answer.

      Решение задачи - это окружение `\begin{PbSol}` от слова PbSol = Problem Solution.

      Ответ задачи - это окружение `\begin{PbAns}` от слова PbAns = Problem Answer.
      
      Ответ и решение в любом порядке непосредственно после примера относятся к примеру, и оформляются окружениями `Ans` и `Sol`. 
      
      Ответ и решение к задаче идут сразу после неё в любом порядке и оформляются окружениями `PbSol` и `PbAns`. 
      
      Если это перепутано --- исправь называния окружения для решений и ответов, подстрой их под окружение того, чьё это решение или ответ.

      Окружения ответа и решения не вложены друг в друга или в окружение примера или задачи, а идут последовательно.  
   </details>

14. <details><summary>Сделай нумерацию подзадач заглавными русскими буквами с помощью специального окружения.</summary>

       Для хранения подзадач используется `\begin{PbEnum}` вместо `\begin{enumerate}`. Каждая подзадача в отдельном `\item`.

      Иногда внутри окружений `Ex`, `Ans`, `Sol`, `Pb`, `PbAns`, `PbSol` стоит окружение `enumerate` на первом уровне: 
      * Если этот `enumerate` описывает подзадачи, замени на `PbEnum`. 
      * Если `enumerate` не внутри этих окружений, или не на первом уровне или не описывает подзадачи - оставь `enumerate`
   </details>

15. <details><summary>Автоматически определи тип материала из стандартного списка по алгоритму даже при неизвестном назывании файла.</summary>

      Есть два уровня материалов `red` и `black`. 
      Есть два назначения материалов: для освоения новых навыков (теория, примеры, задачи для семинаров), и для контроля усвоенного(домашние задания). 
      
      У нас есть 5 типов материалов:  
         * `​​hw_black.tex` Чёрное домашнее задание: условия и решения. Условия с разбалловкой для студентов. Решения для ассистентов.  
         * `hw_red.tex` Красное домашнее задание: условия и решения. Условия с разбалловкой для студентов. Решения только для ассистентов.   
         * `long_black.tex` Чёрный Лонгрид: теория с примерами для домашнего изучения. В конце теории задачи на семинар с решениями. Решения только для преподавателей.  
         * `long_red.tex` Красный Лонгрид: теория с примерами для домашнего изучения. Всё для студентов. К лекции.  
         * `sem_red.tex` Задачи на семинар с решениями. Решения только для преподавателей.  
      Ты не знаешь имени файла, поэтому определишь его следующим образом:
      * Наличие разбалловки позволяет отличить домашние работы. 
      * Наличие теории - лонгрид.
      * Уровень определяется так. Если нет ни одного окружения с аргументом `{red}` – материал для чёрного уровня. Если есть `{red}` для красного. 
      * Если нет ни теории, ни разбалловки — красный семинар.)
   </details>  

16. <details><summary>Автоматически откорректируй правильно заголовок.</summary> 

      Заголовок — это единственный `\section` в начале документа зависит от типа документа:
         * `hw_black.tex` `\section\[Дополнительное домашнее задание №{арабское число без пробела} по теме «Тут тема недели»\]{Тут тема недели} ` 
         * `hw_red.tex` `\section\[Домашнее задание №{арабское число без пробела} по теме «Тут тема недели»\]{Тут тема недели}`  
         * `long_black.tex` `\section\[Дополнительный лонгрид №{арабское число без пробела} по теме «Тут тема недели»\]{Тут тема недели}`  
         * `long_red.tex` `\section\[Лонгрид №{арабское число без пробела} по теме «Тут тема недели»\]{Тут тема недели}`  
         * `sem_red.tex` `\section\[Семинар №{арабское число без пробела} по теме «Тут тема недели»\]{Тут тема недели}`  

   </details>   

17. <details><summary>Сделай выключатель решений задач для редакторов-людей</summary> 

      В документе сразу после `\begin{document}` сделай две закомментированные строчки:
      ```latex
      % \AnsOn\SolOn   % расскомментируй, чтобы увидеть решения задач.  
      % Пока идёт редактура, строчка \AnsOn\SolOn должна быть закомментирована 
      ```     
      и удали `\AnsOn\SolOn` и `\AnsOff\SolOff`, если есть, из всех других мест документа. 
   </details>   

18. Не делай никакую автоматическую редактуру, так как она запрещена. Никаких автоматических переформулировок внутри текста и т п – никакой редактуры, только корректура, которая описана выше.  

19. Результат отобрази в виде документа `LaTeX`  в `codeblock language=tex`

      ```latex
      Вот в такой блок выведи откорректированный документ
      ```
20. После этого отобрази список *всех* изменений.

